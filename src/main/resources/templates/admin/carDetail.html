<!DOCTYPE html>
<html lang="en"
     xmlns:th="http://www.thymeleaf.org"
>
<div th:replace="car/header :: header"></div>

<body>

<div th:replace="car/header :: navbar"></div>
<br> <br> <br>

<div class="container">
    <div class="row">
    
       <h3>Müşteri Bilgileri</h3>
       <table class="table table-striped table-hover table-border">
         <thead class="table-dark">
              <th>id</th>
              <th>name</th>
              <th>surname</th>
              <th>nationalIdentity</th>
              <th>city</th>
              <th>birthDate</th>
         </thead>
         
         <tbody>
              <tr>
                   <td th:text="${car.customer.id}"></td>
                   <td th:text="${car.customer.name}"></td>
                   <td th:text="${car.customer.surname}"></td>
                   <td th:text="${car.customer.nationalIdentity}"></td>
                   <td th:text="${car.customer.city.name}"></td>
                   <td th:text="${car.customer.birthDate}"></td>            
              </tr>
         </tbody>
     </table> 
     <br><br><br>
    
       <h3 class="mt-4">Car Information</h3>
       <table class="table table-striped table-hover table-border mt-2">
         <thead class="table-dark">
              <th>id</th>
              <th>licensePlate</th>
              <th>model</th>
              <th>manufacturingYear</th>
              <th>mileage</th>
              <th>color</th>
              <th>actions</th>
         </thead>
         
         <tbody>
              <tr>
                   <td th:text="${car.id}"></td>
                   <td th:text="${car.licensePlate}"></td>
                   <td th:text="${car.model.name}"></td>
                   <td th:text="${car.manufacturingYear}"></td>
                   <td th:text="${car.mileage}"></td>
                   <td th:text="${car.color}"></td>          
                   <td>
                      <a th:href="@{/admin/{carId}/carAccidents/get(carId=${car.id})}" class="btn btn-primary"> Kaza Kayıtları</a>
                   </td>                      
             </tr>
         </tbody>
     </table>
     <br/> <br/> 
            
            
     <h3 class="mt-4">Sigorta Bilgileri</h3> <br>
       <table class="table table-striped table-hover table-border mt-2">
         <thead class="table-dark">
              <th>Name</th>
              <th>Detail</th>
              <th>Start Date</th>
              <th>End Date</th>
              <th>Price</th>
         </thead>
         
         <tbody>
              <tr th:each = "policy : ${car.policies}">
                   <td th:text="${policy?.policyType.name} and ${car.isActive} ? ${policy.policyType.name} : 'YOK' ">
                   <td th:text="${policy?.policyType.detail} and ${car.isActive} ? ${policy.policyType.detail} : 'YOK'">
                   <td th:text="${policy.startDate} and ${car.isActive} ? ${policy.startDate} : 'YOK' "></td>       
                   <td th:text="${policy.endDate} and ${car.isActive} ? ${policy.endDate} : 'YOK' "></td> 
                   <td th:text="${policy.price} and ${car.isActive} ? ${policy.price} : 'YOK' "></td>                  
              </tr>
         </tbody>
        
     </table>
     <br><br>
</body>
</html>
